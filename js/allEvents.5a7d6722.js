(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["allEvents"],{cb5d:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:"","grid-list-lg":""}},[s("RegisterForEvent"),s("h1",{staticClass:"headline"},[t._v("All Events")]),s("v-layout",{staticClass:"pt-5",attrs:{row:"",wrap:""}},t._l(t.events,function(e){return t.events?s("v-flex",{attrs:{sm12:"",md6:""}},[s("v-card",[s("v-card-title",{staticClass:"orange darken-4 white--text",attrs:{"primary-title":""}},[s("h3",{staticClass:"title mb-0"},[t._v(t._s(e.eventName))])]),s("v-card-text",{staticClass:"px-4 py-4"},[s("v-layout",{attrs:{column:""}},[s("v-flex",{staticClass:"py-3"},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{md6:""}},[s("h4",{staticClass:"title"},[t._v("Description:")])]),s("v-flex",{attrs:{md6:""}},[s("h4",{staticClass:"title font-weight-regular"},[t._v(t._s(e.description))])])],1)],1),s("v-flex",{staticClass:"py-3"},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{md6:""}},[s("h4",{staticClass:"title"},[t._v("Duration")])]),s("v-flex",{attrs:{md6:""}},[s("h4",{staticClass:"title font-weight-regular"},[t._v(t._s(e.duration))])])],1)],1),s("v-flex",{staticClass:"py-3"},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{md6:""}},[s("h4",{staticClass:"title"},[t._v("Fee:")])]),s("v-flex",{attrs:{md6:""}},[s("h4",{staticClass:"title font-weight-regular"},[t._v(t._s(e.fees))])])],1)],1),s("v-flex",{staticClass:"py-3"},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{md6:""}},[s("h4",{staticClass:"title"},[t._v("Location:")])]),s("v-flex",{attrs:{md6:""}},[s("h4",{staticClass:"title font-weight-regular"},[t._v(t._s(e.location))])])],1)],1),s("v-flex",{staticClass:"py-3"},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{md6:""}},[s("h4",{staticClass:"title"},[t._v("Tags:")])]),s("v-flex",{attrs:{md6:""}},[s("h4",{staticClass:"title font-weight-regular"},[t._v(t._s(e.tags))])])],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),e.participants.indexOf(t.currentUser)<0?s("v-btn",{attrs:{color:"success"},on:{click:function(s){t.register(e.participants[0],e.id)}}},[t._v("Register For Event")]):s("v-btn",{attrs:{disabled:""}},[t._v("Already Registered")])],1)],1)],1):t._e()}))],1)},a=[],r=s("81f6"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{width:"500",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.event?s("v-card",[s("v-card-title",{staticClass:"headline blue white--text",attrs:{"primary-title":""}},[t._v("Add an Event")]),s("v-card-text",[s("form",t._l(t.event.fieldsRequired,function(e,i){return s("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:4",expression:"'required|min:4'"}],attrs:{"prepend-icon":"event","error-messages":t.errors.collect(e),label:e,"data-vv-name":e},model:{value:t.dynamicFields[i],callback:function(e){t.$set(t.dynamicFields,i,e)},expression:"dynamicFields[index]"}})}))]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary"},on:{click:t.register}},[s("v-icon",{staticClass:"pr-2"},[t._v("save")]),s("span",[t._v("Save")])],1),s("v-btn",{on:{click:function(e){t.dialog=!1}}},[s("v-icon",{staticClass:"pr-2"},[t._v("close")]),s("span",[t._v("close")])],1)],1)],1):t._e()],1)},l=[],c={data:function(){return{event:"",dialog:!1,dynamicFields:[],currentUser:""}},mounted:function(){var t=this;r["a"].$on("register-for-event",function(e){t.event=e,t.dialog=!0,t.currentUser=t.$session.get("authenticatedUser")})},methods:{register:function(){var t=this,e=this.event.participants[0],s=this.$cookies.get(e),i=s.events.find(function(e){return e.id===t.event.id}),a=s.events.indexOf(i);s.events[a].participants.push(this.currentUser),s.events[a].participants=Array.from(new Set(s.events[a].participants));var n="";this.event.fieldsRequired.forEach(function(e,s){n+="-------".concat(e," : ").concat(t.dynamicFields[s],"-------")}),s.notifications||(s.notifications=[]),s.notifications.push("".concat(this.currentUser," registered for your event with the details: ").concat(n)),this.$cookies.set(e,JSON.stringify(s)),this.dialog=!1,r["a"].$emit("show-success-snack","Successfully registered"),r["a"].$emit("refresh-all-events")}}},o=c,v=s("2877"),d=Object(v["a"])(o,n,l,!1,null,null,null);d.options.__file="RegisterForEvent.vue";var u=d.exports,f={components:{RegisterForEvent:u},data:function(){return{events:[],currentUser:""}},mounted:function(){var t=this;this.currentUser=this.$session.get("authenticatedUser"),this.getEvents(),r["a"].$on("refresh-all-events",function(){t.getEvents()})},methods:{register:function(t,e){var s=this.$cookies.get(t),i=s.events.find(function(t){return t.id===e});if(i.fieldsRequired.length<1){var a=s.events.indexOf(i);s.events[a].participants.push(this.currentUser),s.events[a].participants=Array.from(new Set(s.events[a].participants)),this.$cookies.set(t,JSON.stringify(s)),this.getEvents(),r["a"].$emit("show-success-snack","Successfully registered")}else r["a"].$emit("register-for-event",i)},getEvents:function(){var t=this,e=JSON.parse(this.$cookies.get("users"));this.events=[],e.forEach(function(e){var s=t.$cookies.get(e),i=s.events;i&&i.forEach(function(e){t.events.push(e)})})}}},p=f,h=Object(v["a"])(p,i,a,!1,null,null,null);h.options.__file="AllEvents.vue";e["default"]=h.exports}}]);
//# sourceMappingURL=allEvents.5a7d6722.js.map